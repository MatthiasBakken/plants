(this.webpackJsonpplants=this.webpackJsonpplants||[]).push([[0],{230:function(e,t,a){},232:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(100),i=a.n(s),r=a(6),l=a(25),o=a(11),d=a(4),p=a(10),j=a(12),b=a(7),u=a.n(b),h=(a(230),a(0)),m=j.a().shape({password:j.b().min(8,"Must be at least 8 characters long").max(24,"Must be no more than 24 characters long").required("Some value is required to update your password")}),x=j.a().shape({phoneNumber:j.b().min(7,"Number is too short").max(15,"Number is too long").required("Must enter a valid number if you plan to update")}),O=localStorage.getItem("jwtToken"),g=localStorage.getItem("userId"),f=function(e){var t=e.pageTitle;return Object(n.useEffect)((function(){t("SETTINGS")}),[]),Object(h.jsx)("div",{className:"settings-container",children:O?Object(h.jsxs)("div",{className:"settings-forms-container",children:[Object(h.jsx)(p.c,{initialValues:{password:""},validationSchema:m,onSubmit:function(e,t){t.stopPropagation(),u.a.put("https://tt157-backend.herokuapp.com/api/users/".concat(g),{password:e.password},{headers:{authorization:"bearer ".concat(O)}}).then((function(e){return e.data}))},children:function(e){var t=e.errors,a=e.touched,n=e.isValid,c=e.dirty,s=e.values;return Object(h.jsxs)(p.b,{className:"settings_forms",testid:"form1",children:[Object(h.jsx)("label",{className:"update_pass",children:"Update Password"}),Object(h.jsx)(p.a,{name:"password",placeholder:"abcD1234?"}),t.password&&a.password?Object(h.jsx)("div",{testid:"error-div-password",children:t.password}):null,Object(h.jsx)("span",{testid:"settings-password-span",children:Object(h.jsx)("button",{type:"submit",disabled:!(c&&n&&s.password),testid:"settings-password-submit",children:"Submit"})})]})}}),Object(h.jsx)(p.c,{initialValues:{phoneNumber:""},validationSchema:x,onSubmit:function(e,t){t.stopPropagation();var a=parseInt(e.phoneNumber.replace(/[^0-9]/g,""));u.a.put("https://tt157-backend.herokuapp.com/api/users/".concat(g),{phone_number:a},{headers:{authorization:"bearer ".concat(O)}}).then((function(e){return e.data}))},children:function(e){var t=e.errors,a=e.touched,n=e.isValid,c=e.dirty,s=e.values;return Object(h.jsxs)(p.b,{className:"settings_forms",testid:"form2",children:[Object(h.jsx)("label",{className:"update_phone",children:"Update Phone Number"}),Object(h.jsx)(p.a,{name:"phoneNumber",placeholder:"555-123-4567"}),t.phoneNumber&&a.phoneNumber?Object(h.jsx)("div",{testid:"error-div-phoneNumber",children:t.phoneNumber}):null,Object(h.jsx)("span",{testid:"settings-phoneNumber-span",children:Object(h.jsx)("button",{type:"submit",disabled:!(c&&n&&s.phoneNumber),testid:"settings-phoneNumber-submit",children:"Submit"})})]})}})]}):Object(h.jsx)("div",{children:"..."})})},N=a(68),v=(a(232),function(e){var t=e.propsTitle,a=Object(n.useState)(""),c=Object(o.a)(a,2),s=c[0],i=c[1];Object(n.useEffect)((function(){return i(t),s}),[e.propsTitle]);return"LOGIN"===s||"CREATE ACCOUNT"===s||window.screen.availWidth<670?Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("h1",{className:"headerLogo",children:"".concat(s)})}):Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h1",{className:"headerLogo",children:"".concat(s)}),Object(h.jsx)(r.b,{to:"/settings",children:Object(h.jsx)(N.a,{className:"set-icon"})}),Object(h.jsx)("span",{className:"set",children:"Settings"}),Object(h.jsx)(N.b,{className:"log-icon",onClick:function(){return localStorage.clear(),void window.location.replace("/")}}),Object(h.jsx)("span",{className:"log",children:"Logout"})]})}),w=(a(236),function(){return Object(h.jsxs)("div",{className:"menu-container",children:[Object(h.jsx)("input",{type:"checkbox",className:"openSidebarMenu",id:"openSidebarMenu"}),Object(h.jsxs)("label",{htmlFor:"openSidebarMenu",className:"sidebarIconToggle",children:[Object(h.jsx)("div",{className:"spinner diagonal part-1"}),Object(h.jsx)("div",{className:"spinner horizontal"}),Object(h.jsx)("div",{className:"spinner diagonal part-2"})]}),Object(h.jsx)("div",{id:"sidebarMenu",children:Object(h.jsxs)("ul",{className:"sidebarMenuInner",children:[Object(h.jsxs)("li",{className:"menu-title",children:["Plants ",Object(h.jsx)("span",{children:"Menu Options"})]}),Object(h.jsx)(r.b,{to:"/home",children:Object(h.jsx)("li",{className:"menu-home",children:"Home"})}),Object(h.jsx)(r.b,{to:"/plants",children:Object(h.jsx)("li",{className:"menu-plants",children:"Plants"})}),Object(h.jsx)(r.b,{to:"/create-plant",children:Object(h.jsx)("li",{className:"menu-create",children:"Create Plant"})}),Object(h.jsx)(r.b,{to:"/settings",children:Object(h.jsx)("li",{className:"menu-settings",children:"Settings"})}),Object(h.jsx)("li",{onClick:function(){return localStorage.clear(),void window.location.replace("/")},className:"menu-logout",children:"Logout"})]})})]})}),k=(a(237),function(e){var t=localStorage.getItem("jwtToken"),a=localStorage.getItem("userId");return Object(h.jsx)("div",{className:"plant_box",children:Object(h.jsxs)("div",{className:"myplant",children:[Object(h.jsx)(r.b,{testid:"plant-img-link",to:"/plant-page/".concat(e.plantData.id,"?nickname=").concat(e.plantData.nickname,"&species=").concat(e.plantData.species,"&h2o_frequency=").concat(e.plantData.h2o_frequency,"&image=").concat(e.plantData.image,"&id=").concat(e.plantData.id),className:"plant_img ",children:Object(h.jsx)("img",{testid:"plant-img",src:"".concat(e.plantData.image?"".concat(e.plantData.image):"https://images.unsplash.com/photo-1497250681960-ef046c08a56e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80"),alt:"plant"})}),Object(h.jsx)("div",{className:"plant_data",children:Object(h.jsxs)("div",{testid:"plant-data-container",children:[Object(h.jsxs)("span",{className:"nickname",children:[Object(h.jsx)("label",{testid:"plant-nickname-label",children:"Nickname: "}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{testid:"plant-nickname-par",children:"".concat(e.plantData.nickname)})]}),Object(h.jsxs)("span",{className:"species",children:[Object(h.jsx)("label",{testid:"plant-species-label",children:"Species: "}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{testid:"plant-species-par",children:"".concat(e.plantData.species)})]}),Object(h.jsxs)("span",{className:"h2o-frequency",children:[Object(h.jsx)("label",{testid:"plant-h2o-label",children:"H2o Frequency: "}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{testid:"plant-h2o-par",children:"".concat(e.plantData.h2o_frequency)})]})]})}),Object(h.jsxs)("div",{className:"edit_delete_buttons",children:[Object(h.jsx)(r.b,{testid:"plant-edit-link",to:"/edit-plant/".concat(e.plantData.id),children:Object(h.jsx)("button",{testid:"plant-edit-button",children:"Edit"})}),Object(h.jsx)("button",{testid:"plant-delete-button",onClick:function(){u.a.delete("https://tt157-backend.herokuapp.com/api/users/".concat(a,"/plant"),{data:{plant_id:e.plantData.id}},{headers:{authorization:"bearer ".concat(t)}}).then((function(e){return e.data})).catch((function(e){return e}))},children:"Delete"})]})]})})}),S=(a(238),localStorage.getItem("jwtToken")),y=localStorage.getItem("userId"),T=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],i=e.pageTitle;return Object(n.useEffect)((function(){u.a.get("https://tt157-backend.herokuapp.com/api/users/".concat(y),{headers:{authorization:"bearer ".concat(S)}}).then((function(e){i("PLANTS"),s(e.data.plants)}))}),[]),Object(h.jsx)("div",{className:"plants-container",children:S?Object(h.jsx)("div",{className:"plants",children:Object(h.jsx)("div",{className:"plants-wrapper",children:c.map((function(e){return Object(h.jsx)(k,{plantData:e},e.id)}))})}):Object(h.jsx)("div",{children:"..."})})},_=(a(254),a(245),{image:"",nickname:"",species:"",h2o_frequency:0,id:999999}),q=function(e){var t=localStorage.getItem("jwtToken"),a=localStorage.getItem("userId"),c=Object(n.useState)(_),s=Object(o.a)(c,2),i=s[0],l=s[1],d=e.pageTitle,p=new URLSearchParams(window.location.search);Object(n.useEffect)((function(){d("".concat(p.get("nickname").toUpperCase())),l({image:p.get("image"),nickname:p.get("nickname"),species:p.get("species"),h2o_frequency:p.get("h2o_frequency"),id:p.get("id")}),console.log(),console.log(p.get("species"))}),[]);return Object(h.jsx)("div",{className:"plant-page-container",children:t?Object(h.jsx)("div",{className:"plant_box",children:Object(h.jsxs)("div",{className:"myplant",children:[Object(h.jsx)("div",{className:"plant_img",testid:"plant-img-container",children:Object(h.jsx)("img",{testid:"plant-image",src:"".concat(i.image?"".concat(i.image):"https://images.unsplash.com/photo-1497250681960-ef046c08a56e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80"),alt:"plant"})}),Object(h.jsx)("div",{className:"plant_data",children:Object(h.jsxs)("div",{testid:"plant-data",children:[Object(h.jsxs)("span",{className:"name",testid:"plant-nickname-span",children:[Object(h.jsx)("label",{testid:"plant-nickname-label",children:"Nickname: "}),Object(h.jsx)("p",{testid:"plant-nickname-par",children:"".concat(i.nickname)})]}),Object(h.jsxs)("span",{testid:"plant-species-span",className:"spec",children:[Object(h.jsx)("label",{testid:"plant-species-label",children:"Species: "}),Object(h.jsx)("p",{testid:"plant-species-par",children:"".concat(i.species)})]}),Object(h.jsxs)("span",{testid:"plant-h2o-span",className:"h2o",children:[Object(h.jsx)("label",{testid:"plant-h2o-label",children:"H2o Frequency: "}),Object(h.jsx)("p",{testid:"plant-h2o-par",children:"".concat(i.h2o_frequency)})]})]})}),Object(h.jsxs)("div",{testid:"plant-btns-container",className:"edit_delete_buttons",children:[Object(h.jsx)(r.b,{testid:"plant-edit-btn-link",to:"/edit-plant/".concat(i.id),children:Object(h.jsx)("button",{testid:"plant-edit-btn",children:"Edit"})}),Object(h.jsx)("button",{testid:"plant-delete-btn",onClick:function(){u.a.delete("https://tt157-backend.herokuapp.com/api/users/".concat(a,"/plant"),{data:{plant_id:i.id}},{headers:{authorization:"bearer ".concat(t)}}).then((function(e){return e.data})).catch((function(e){return e}))},children:"Delete"})]})]})}):Object(h.jsx)("div",{children:"..."})})},I=a(31),M=(a(246),{nickname:"",species:"",h2o_frequency:"",image:""}),D=localStorage.getItem("jwtToken"),C=localStorage.getItem("userId"),P=function(e){var t=Object(n.useState)(M),a=Object(o.a)(t,2),c=a[0],s=a[1],i=e.pageTitle;Object(n.useEffect)((function(){i("ADD A PLANT")}),[]);var r=function(e){s(Object(l.a)(Object(l.a)({},c),{},Object(I.a)({},e.target.name,e.target.value)))};return Object(h.jsx)("div",{testid:"create-container",children:D?Object(h.jsxs)("form",{className:"add_plant_form",onSubmit:function(e){e.preventDefault(),u.a.post("https://tt157-backend.herokuapp.com/api/plants",{nickname:c.nickname,species:c.species,h2o_frequency:c.h2o_frequency,image:c.image},{headers:{authorization:"bearer ".concat(D)}}).then((function(e){u.a.post("https://tt157-backend.herokuapp.com/api/users/".concat(C),{plant_id:e.data.id},{headers:{authorization:"bearer ".concat(D)}}).then((function(e){console.log(e),window.location.replace("/plants")}))})).catch((function(e){return console.log("cannot post plant",{err:e})}))},children:[Object(h.jsx)("h2",{testid:"create-title",children:"Add a New Plant"}),Object(h.jsx)("input",{type:"text",name:"nickname",placeholder:"Nick Name",onChange:r,value:c.nickname}),Object(h.jsx)("input",{type:"text",name:"species",placeholder:"Species",onChange:r,value:c.species}),Object(h.jsx)("input",{type:"number",name:"h2o_frequency",placeholder:"H2oFrequency",onChange:r,value:c.h2o_frequency}),Object(h.jsx)("input",{type:"string",name:"image",placeholder:"Image URL",onChange:r,value:c.image}),Object(h.jsx)("button",{className:"add_plant_button",disabled:!(c.nickname&&c.species&&c.h2o_frequency),children:"Add Plant"})]}):Object(h.jsx)("div",{children:"..."})})},E=(a(247),function(e){var t=localStorage.getItem("jwtToken"),a=Object(n.useState)({nickname:"",species:"",h2o_frequency:"",image:""}),c=Object(o.a)(a,2),s=c[0],i=c[1],r=e.pageTitle,p="".concat(Object(d.g)().pathname).split("/");p=p[p.length-1],Object(n.useEffect)((function(){r("EDIT YOUR PLANT"),u.a.get("https://tt157-backend.herokuapp.com/api/plants/".concat(p)).then((function(e){return i(e.data),e.data}))}),[]);var j=function(e){i(Object(l.a)(Object(l.a)({},s),{},Object(I.a)({},e.target.name,e.target.value)))};return Object(h.jsx)("div",{className:"edit-plant-container",children:t?Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.a.put("https://tt157-backend.herokuapp.com/api/plants/".concat(p),{id:p,nickname:s.nickname,species:s.species,h2o_frequency:s.h2o_frequency,image:s.image},{headers:{authorization:"bearer ".concat(t)}}).then((function(e){console.log(e),window.location.replace("/plants")})).catch((function(e){return console.log("cannot post plant",{err:e})}))},testid:"edit-plant-form",children:[Object(h.jsx)("h2",{testid:"edit-plant-title",children:"Edit Your Plant"}),Object(h.jsx)("input",{type:"text",name:"nickname",placeholder:"Nick Name",onChange:j,value:s.nickname}),Object(h.jsx)("input",{type:"text",name:"species",placeholder:"Species",onChange:j,value:s.species}),Object(h.jsx)("input",{type:"number",name:"h2o_frequency",placeholder:"H2oFrecuency",onChange:j,value:s.h2o_frequency}),Object(h.jsx)("input",{type:"string",name:"image",placeholder:"Image URL",onChange:j,value:s.image}),Object(h.jsx)("button",{testid:"edit-plant-submit",children:"Update Plant"})]}):Object(h.jsx)("div",{children:"..."})})}),H=(a(248),j.a().shape({username:j.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),phoneNumber:j.b().min(7,"Number is too short").max(15,"Number is too long").required("Required"),password:j.b().min(8,"Must be at least 8 characters long").max(24,"Must be 24 characters or less").required("Required")})),A=function(e){var t=e.pageTitle;return Object(n.useEffect)((function(){t("CREATE ACCOUNT")}),[]),Object(h.jsx)("div",{className:"form-container",children:Object(h.jsx)(p.c,{initialValues:{username:"",phoneNumber:"",password:""},validationSchema:H,onSubmit:function(e){u.a.post("https://tt157-backend.herokuapp.com/api/auth/register",{username:e.username,password:e.password,phone_number:parseInt(e.phoneNumber.replace(/[^0-9]/g,""))}).then((function(e){localStorage.setItem("jwtToken",e.data.token);var t=function(e){if(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}}(e.data.token).subject;localStorage.setItem("userId",t),window.location.replace("/home")}))},children:function(e){var t=e.errors,a=e.touched,n=e.isValid,c=e.dirty;return Object(h.jsxs)(p.b,{className:"signup_form",children:[Object(h.jsx)("label",{children:"Username: "}),Object(h.jsx)(p.a,{name:"username"}),t.username&&a.username?Object(h.jsx)("div",{className:"error-div",children:t.username}):null,Object(h.jsx)("label",{children:"Phone Number: "}),Object(h.jsx)(p.a,{name:"phoneNumber"}),t.phoneNumber&&a.phoneNumber?Object(h.jsx)("div",{className:"error-div",children:t.phoneNumber}):null,Object(h.jsx)("label",{children:"Password: "}),Object(h.jsx)(p.a,{name:"password",type:"password"}),t.password&&a.password?Object(h.jsx)("div",{className:"error-div",children:t.password}):null,Object(h.jsx)("span",{className:"button-container",children:Object(h.jsx)("button",{className:"signup_button",type:"submit",disabled:!(c&&n),children:"Sign Me Up!"})})]})}})})};a(249),j.a().shape({username:j.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:j.b().min(8,"Must be at least 8 characters long").max(24,"Must be 24 characters or less").required("Required")});a(250);var L=localStorage.getItem("jwtToken"),U=localStorage.getItem("loginMsg"),G=function(e){var t=e.pageTitle;return Object(n.useEffect)((function(){t("HOME")}),[]),Object(h.jsx)("div",{className:"container",children:L&&U?Object(h.jsxs)("div",{testid:"home-login-msg-div",children:[Object(h.jsx)("h1",{testid:"home-title",children:"Water My Plants"}),Object(h.jsx)("div",{testid:"home-container",children:Object(h.jsxs)("div",{testid:"login-with-message",children:[Object(h.jsx)("p",{testid:"login-message",children:"".concat(U)}),Object(h.jsx)("div",{className:"plant-img-container",children:Object(h.jsx)("img",{src:"https://images.unsplash.com/photo-1520412099551-62b6bafeb5bb?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",alt:"plant_picture"})})]})})]}):Object(h.jsxs)("div",{testid:"home-container",children:[Object(h.jsx)("h1",{testid:"home-title",children:"Water My Plants"}),Object(h.jsxs)("div",{testid:"login-without-message",children:[Object(h.jsxs)("p",{testid:"get-started-message",children:["Get started by ",Object(h.jsx)(r.b,{to:"/create-plant",testid:"create-plant-link",children:"creating a plant"})]}),Object(h.jsx)("div",{className:"plant-img-container",children:Object(h.jsx)("img",{src:"https://images.unsplash.com/photo-1520412099551-62b6bafeb5bb?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",alt:"plant_picture"})})]})]})})};a(251),a(252);var R=function(){var e=Object(n.useState)("Water My Plants"),t=Object(o.a)(e,2),a=t[0],c=t[1],s=localStorage.getItem("jwtToken"),i=function(e){return c(e),e};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(v,{pageTitle:i,propsTitle:a}),Object(h.jsx)(w,{pageTitle:i}),Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{exact:!0,path:"/",render:function(e){s?d.a:Object(l.a)({pageTitle:i},e)}}),Object(h.jsx)(d.b,{exact:!0,path:"/signup",children:Object(h.jsx)(A,{pageTitle:i})}),Object(h.jsx)(d.b,{exact:!0,path:"/home",children:s?Object(h.jsx)(G,{pageTitle:i}):Object(h.jsx)(d.a,{to:"/"})}),Object(h.jsx)(d.b,{exact:!0,path:"/plants",children:s?Object(h.jsx)(T,{pageTitle:i}):Object(h.jsx)(d.a,{to:"/"})}),Object(h.jsx)(d.b,{exact:!0,path:"/plant-page/:id?",children:s?Object(h.jsx)(q,{pageTitle:i}):Object(h.jsx)(d.a,{to:"/"})}),Object(h.jsx)(d.b,{exact:!0,path:"/create-plant",children:s?Object(h.jsx)(P,{pageTitle:i}):Object(h.jsx)(d.a,{to:"/"})}),Object(h.jsx)(d.b,{exact:!0,path:"/edit-plant/:id",children:s?Object(h.jsx)(E,{pageTitle:i}):Object(h.jsx)(d.a,{to:"/"})}),Object(h.jsx)(d.b,{exact:!0,path:"/settings",children:s?Object(h.jsx)(f,{pageTitle:i}):Object(h.jsx)(d.a,{to:"/"})})]})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,256)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};a(253);i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(r.a,{children:Object(h.jsx)(R,{})})}),document.getElementById("root")),B()}},[[255,1,2]]]);
//# sourceMappingURL=main.c6248e76.chunk.js.map